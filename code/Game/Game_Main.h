//==============================================================================
/// Filename: Game_System.h
/// Description: ゲームの本編処理
/// Copyright (C)  Silicon Studio Co., Ltd. All rights reserved.
//==============================================================================

#pragma once

#include "../Application/Win_Framework.h"

#include "../DX11/DX11_Object.h"
#include "../DX12/DX12_Object.h"
#include "../OpenGL/OpenGL_Object.h"

#include "Game_Device.h"
#include "Game_LayerMgr.h"

class GameMain {
public:
    //-----------------------------------------------------------------------------
    // public methods

    //-----------------------------------------------------------------------------
    /// インスタンス受け取り
    ///
    /// \return GameSystem&
    //-----------------------------------------------------------------------------
    static GameMain& GetInstance();

    //-----------------------------------------------------------------------------
    /// 初期化
    ///
    /// \param[in] _hWnd ウィンドウハンドル
    /// 
    /// \return void
    //-----------------------------------------------------------------------------
    void Initialize(HWND _hWnd);

    //-----------------------------------------------------------------------------
    /// 更新処理
    ///
    /// \return void
    //-----------------------------------------------------------------------------
    void Update();

    //-----------------------------------------------------------------------------
    /// 描画処理
    ///
    /// \return void
    //-----------------------------------------------------------------------------
    void Draw();

    //-----------------------------------------------------------------------------
    /// 解放処理   
    ///
    /// \return void
    //-----------------------------------------------------------------------------
    void Release();

    //-----------------------------------------------------------------------------
private:
    //-----------------------------------------------------------------------------
    // private method

    //-----------------------------------------------------------------------------
    /// ウィンドウのタイトルを使用しているAPIの名前に変える
    /// 
    /// \param  [in]    _hWnd   ウィンドウハンドル
    /// \param  [in]    _type   使用するAPIの種類
    /// 
    /// \return void
    //-----------------------------------------------------------------------------
    void SetWindowTitle(HWND _hWnd , GameLayerMgr::RendererType _type);

    //-----------------------------------------------------------------------------

    //-----------------------------------------------------------------------------
    // private variable

    //-----------------------------------------------------------------------------
    GameDevice* m_pGameDevice = nullptr;
    GameObject* m_pCube = nullptr;
    GameLayerMgr::RendererType m_rendererType = GameLayerMgr::RendererType::DirectX11;
    //-----------------------------------------------------------------------------

    ///< 
    /// m_pGameDevice   APIのデバイス
    /// m_cube          描画するオブジェクト
    /// m_rendererType  描画処理のAPI
    ///<

    //-----------------------------------------------------------------------------
};
