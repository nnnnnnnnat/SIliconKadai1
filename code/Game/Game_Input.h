//==============================================================================
/// Filename: Game_Input.h
/// Description: キーボードの情報を扱うクラス (Windowsのみ)
/// Copyright (C) Silicon Studio Co., Ltd. All rights reserved.
//==============================================================================

#pragma once

#include <Windows.h>

#include "../Application/Win_Framework.h"

class GameInput : public NonCopyable {
public:
    //==============================================================================
    // public method

    //==============================================================================
    /// インスタンス 取得
    /// 
    /// \param GameInput&
    //==============================================================================
    static GameInput& GetInstance();

    //==============================================================================
    /// 初期化処理
    /// 
    /// \return bool
    //==============================================================================
    bool Init();

    //==============================================================================
    /// 更新処理
    /// 
    /// \return void 
    //==============================================================================
    void Update();

    //==============================================================================
    /// キーバッファ取得 ( そのフレームで押されていたら true を返す)
    /// 
    /// \param  [in]    _vkey   キー番号
    /// 
    /// \return bool
    //==============================================================================
    bool GetKeyPress(
        /*[in]*/ const int _vkey);

    //==============================================================================
    /// キーバッファ取得 ( 特定のボタンが押されたフレームのみ true を返す)
    /// 
    /// \param  [in]    _vkey   キー番号
    /// 
    /// \return bool
    //==============================================================================
    bool GetKeyTrigger(
        /*[in]*/ const int _vkey);

    //==============================================================================
    /// キーバッファ取得 ( 特定のボタンが離されたフレームのみ true を返す)
    /// 
    /// \param  [in]    _vkey   キー番号
    /// 
    /// \return bool
    //==============================================================================
    bool GetKeyRelease(
        /*[in]*/ const int _vkey);

    //==============================================================================
private:
    //==============================================================================
    // private variable

    BYTE mKeyState[256];
    BYTE mOldKeyState[256];

    ///<
    /// mKeyState       現在のキーボードの状態
    /// mOldKeyState    前フレームのキーボードの状態
    ///<

    //==============================================================================
};

